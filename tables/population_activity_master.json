{
    "tableName": "population_activity_master",
    "tableType": "OFFLINE",
    "segmentsConfig": {
        "schemaName": "population_activity_master",
        "replication": "1",
        "replicasPerPartition": "1",
        "segmentPushFrequency": "HOURLY",
        "segmentPushType": "REFRESH",
        "minimizeDataMovement": false
    },
    "tenants": {
        "broker": "DefaultTenant",
        "server": "DefaultTenant"
    },
    "tableIndexConfig": {
        "invertedIndexColumns": [],
        "noDictionaryColumns": [
        "ltc_count",
        "age",
        "risk_score_int",
        "length_of_stay",
        "cost",
        "admissions_id",
        "event_date",
        "event_date_long",
        "asthma",
        "copd",
        "chd",
        "heart_failure",
        "hypertension",
        "atrial_fibrillation",
        "pad",
        "cancer",
        "depression",
        "dementia",
        "mental_health",
        "learning_disabilities",
        "diabetes",
        "hypothyroid",
        "ckd",
        "epilepsy",
        "osteoporosis",
        "rheumatoid_arthritis"
        ],
        "rangeIndexColumns": [],
        "rangeIndexVersion": 2,
        "autoGeneratedInvertedIndex": false,
        "createInvertedIndexDuringSegmentGeneration": false,
        "sortedColumn": [],
        "bloomFilterColumns": [],
        "loadMode": "MMAP",
        "onHeapDictionaryColumns": [],
        "varLengthDictionaryColumns": [],
        "enableDefaultStarTree": false,
        "enableDynamicStarTreeCreation": false,
        "aggregateMetrics": false,
        "nullHandlingEnabled": false,
        "optimizeDictionary": false,
        "optimizeDictionaryForMetrics": false,
        "noDictionarySizeRatioThreshold": 0.85
    },
    "metadata": {},
    "quota": {},
    "routing": {},
    "query": {},
    "fieldConfigList": [
        {
            "name": "type",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "nhs_number",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "admission_method",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "specialty",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "provider",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "provider_long",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "total_cost",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "programming_budget_code",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "ccg_code",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "hrg",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "ethnic_category_code",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "digest",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "primary_diagnosis",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "primary_procedure",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "sitecode",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "hrg_chapter",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "hrg_sub_chapter",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "pbc_categories",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "pbc_sub_categories",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "du",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "ccg_name",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "local_authority",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "pcn",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "sex",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "covid_risk",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "covid_vuln",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "mosaic_label",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "mosaic_group",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "mosaic_label",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "household_group",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "household_type",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "gpp_code",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "wardcode",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "lsoa",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "frailty_text",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "deprivation_decile",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "ethnicity_from_sus",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "acorn",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "icd_10_diagnosis",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "icd_10_description_with_code",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "icd_10_chapter_description",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        },
        {
            "name": "icd_10_sub_chapter",
            "encodingType": "RAW",
            "indexType": "TEXT",
            "indexTypes": [
                "TEXT"
            ],
            "indexes": null,
            "tierOverwrites": null
        }
    ],
    "ingestionConfig": {
        "segmentTimeValueCheck": true,
        "transformConfigs": [
        {
            "columnName": "cost",
            "transformFunction": "Groovy({(total_cost == 'NA' ? 0 : total_cost)}, total_cost)"
        },
        {
            "columnName": "acorn",
            "transformFunction": "Groovy({(household_group + household_type)}, household_group, household_type)"
        },
        {
            "columnName": "event_date_long",
            "transformFunction": "fromDateTime(event_date, 'yyyy-MM-dd')"
        },
        {
            "columnName": "week_commencing_long",
            "transformFunction": "fromDateTime(week_commencing, 'yyyy-MM-dd')"
        },
        {
            "columnName": "month_start_long",
            "transformFunction": "fromDateTime(month_start, 'yyyy-MM-dd')"
        },
        {
            "columnName": "ltc_count",
            "transformFunction": "Groovy({(asthma == 'TRUE' ? 1 : 0) + (copd == 'TRUE' ? 1 : 0) + (chd == 'TRUE' ? 1 : 0) + (heart_failure == 'TRUE' ? 1 : 0) + (hypertension == 'TRUE' ? 1 : 0) + (atrial_fibrillation == 'TRUE' ? 1 : 0) + (pad == 'TRUE' ? 1 : 0) + (cancer == 'TRUE' ? 1 : 0) + (depression == 'TRUE' ? 1 : 0) + (dementia == 'TRUE' ? 1 : 0) + (mental_health == 'TRUE' ? 1 : 0) + (learning_disabilities == 'TRUE' ? 1 : 0) + (diabetes == 'TRUE' ? 1 : 0) + (hypothyroid == 'TRUE' ? 1 : 0) + (ckd == 'TRUE' ? 1 : 0) + (epilepsy == 'TRUE' ? 1 : 0) + (osteoporosis == 'TRUE' ? 1 : 0) + (rheumatoid_arthritis == 'TRUE' ? 1 : 0)}, asthma, copd, chd, heart_failure, hypertension, atrial_fibrillation, pad, cancer, depression, dementia, mental_health, learning_disabilities, diabetes, hypothyroid, ckd, epilepsy, osteoporosis, rheumatoid_arthritis)"
        },
        {
            "columnName": "length_of_stay_metric",
            "transformFunction": "Groovy({(length_of_stay == 'NA' ? 0 : length_of_stay)}, length_of_stay)"
        },
        {
            "columnName": "mosaic_group",
            "transformFunction": "Groovy({(mosaic_label.substring(0,1))}, mosaic_label)"
        }
        ],
        "continueOnError": false,
        "rowTimeValueCheck": false
    },
    "isDimTable": false
}